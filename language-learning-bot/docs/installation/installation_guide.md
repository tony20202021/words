# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Language Learning Bot

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
2. [üÜï GPU —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏](#gpu-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è-–¥–ª—è-ai-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
3. [–ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞](#–±—ã—Å—Ç—Ä–∞—è-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
4. [–ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞](#–ø–æ—à–∞–≥–æ–≤–∞—è-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
   - [–ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞](#–ø–æ–ª—É—á–µ–Ω–∏–µ-–∏—Å—Ö–æ–¥–Ω–æ–≥–æ-–∫–æ–¥–∞)
   - [üÜï –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏](#–≤—ã–±–æ—Ä-—Ä–µ–∂–∏–º–∞-—É—Å—Ç–∞–Ω–æ–≤–∫–∏)
   - [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
   - [üÜï –£—Å—Ç–∞–Ω–æ–≤–∫–∞ AI –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-ai-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
   - [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ MongoDB](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-mongodb)
   - [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-–ø—Ä–æ–µ–∫—Ç–∞)
   - [–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
5. [üÜï –ü—Ä–æ–≤–µ—Ä–∫–∞ AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](#–ø—Ä–æ–≤–µ—Ä–∫–∞-ai-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
6. [–í–∞—Ä–∏–∞–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ MongoDB](#–≤–∞—Ä–∏–∞–Ω—Ç—ã-—É—Å—Ç–∞–Ω–æ–≤–∫–∏-mongodb)
7. [–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏](#–ø—Ä–æ–≤–µ—Ä–∫–∞-—É—Å—Ç–∞–Ω–æ–≤–∫–∏)
8. [üÜï AI Troubleshooting](#ai-troubleshooting)
9. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)
10. [–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏](#—Å–ª–µ–¥—É—é—â–∏–µ-—à–∞–≥–∏)

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Python 3.8 –∏–ª–∏ –≤—ã—à–µ (**Python 3.10 —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è AI**)
- Conda (–¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º)
- Git —Å Git LFS (–¥–ª—è AI –º–æ–¥–µ–ª–µ–π)
- –î–æ—Å—Ç—É–ø –∫ Telegram Bot API (—Ç–æ–∫–µ–Ω)
- FFmpeg (–¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤)
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (–¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ AI –º–æ–¥–µ–ª–µ–π)

### üÜï –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
- **NVIDIA GPU** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CUDA 11.8+
- **NVIDIA Drivers** –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
- **–ú–∏–Ω–∏–º—É–º 12GB GPU –ø–∞–º—è—Ç–∏** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 24GB+)
- **32GB+ —Å–∏—Å—Ç–µ–º–Ω–æ–π RAM** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 64GB+)
- **100GB+ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞** –¥–ª—è AI –º–æ–¥–µ–ª–µ–π –∏ cache

---

## üÜï GPU —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

Language Learning Bot —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å–ª–æ–≤. –î–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π GPU.

### üéÆ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Basic AI):
```
GPU: RTX 3080, RTX 4070 Ti, A4000 (12GB VRAM)
RAM: 32GB System RAM
Storage: 100GB+ –¥–ª—è –º–æ–¥–µ–ª–µ–π
–í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: ~15-20 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
Batch size: 1
```

### üöÄ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Standard AI):
```
GPU: RTX 3090, RTX 4090, A5000, A6000 (24GB+ VRAM)
RAM: 64GB System RAM  
Storage: 500GB+ NVMe SSD
–í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: ~8-12 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
Batch size: 2-4
```

### ‚ö° –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (High-Performance AI):
```
GPU: A100, H100 (80GB+ VRAM)
RAM: 128GB+ System RAM
Storage: 1TB+ NVMe SSD
–í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: ~6-8 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ  
Batch size: 8+
```

### üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ GPU:
| GPU Model | VRAM | Status | Performance |
|-----------|------|--------|-------------|
| RTX 3080 | 12GB | ‚úÖ Minimum | Slow (CPU offload required) |
| RTX 3090 | 24GB | ‚úÖ Good | Standard |
| RTX 4070 Ti | 12GB | ‚úÖ Minimum | Slow (optimizations required) |
| RTX 4080 | 16GB | ‚úÖ Good | Standard |
| RTX 4090 | 24GB | ‚úÖ Excellent | Fast |
| A4000 | 16GB | ‚úÖ Good | Standard |
| A5000 | 24GB | ‚úÖ Excellent | Fast |
| A6000 | 48GB | ‚úÖ Excellent | Very Fast |
| A100 | 80GB | ‚úÖ Optimal | Ultra Fast |
| H100 | 80GB | ‚úÖ Optimal | Ultra Fast |

### ‚ö†Ô∏è –ë–µ–∑ GPU:
–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–≥–æ GPU, –±–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ **Legacy Mode** –±–µ–∑ AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–≥–ª—É—à–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

---

## –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### üöÄ –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å GPU (AI —Ä–µ–∂–∏–º):
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å Git LFS
git clone https://github.com/username/language-learning-bot.git
cd language-learning-bot

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git LFS –¥–ª—è AI –º–æ–¥–µ–ª–µ–π
git lfs install
git lfs pull

# –°–æ–∑–¥–∞–Ω–∏–µ AI –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å GPU –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
conda env create -f writing_service/environment_gpu.yml
conda activate amikhalev_writing_images_service

# –ü—Ä–æ–≤–µ—Ä–∫–∞ CUDA
python -c "import torch; print(f'CUDA: {torch.cuda.is_available()}, GPU: {torch.cuda.get_device_name()}')"

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –¥–æ–±–∞–≤–∏–≤ TELEGRAM_BOT_TOKEN

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
./start_1_db.sh
python scripts/init_db.py
./start_2_backend.sh
./start_4_writing_service.sh  # üÜï AI —Å–µ—Ä–≤–∏—Å
./start_3_frontend.sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ AI —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
curl http://localhost:8600/health/detailed
```

### üì± –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ GPU (Legacy —Ä–µ–∂–∏–º):
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –±–∞–∑–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
git clone https://github.com/username/language-learning-bot.git
cd language-learning-bot

# –ë–∞–∑–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –±–µ–∑ AI
conda env create -f environment.yml
conda activate language-learning-bot

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –¥–æ–±–∞–≤–∏–≤ TELEGRAM_BOT_TOKEN

# –ó–∞–ø—É—Å–∫ –±–∞–∑–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (–±–µ–∑ Writing Service)
./start_1_db.sh
python scripts/init_db.py
./start_2_backend.sh
./start_3_frontend.sh
```

---

## –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/username/language-learning-bot.git
cd language-learning-bot

# üÜï –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git LFS –¥–ª—è AI –º–æ–¥–µ–ª–µ–π (–µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AI)
git lfs install
git lfs pull
```

### üÜï –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ—Å—å —Å —Ä–µ–∂–∏–º–æ–º —Ä–∞–±–æ—Ç—ã:

#### ü§ñ AI Mode (—Å GPU):
- ‚úÖ –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤–∫–ª—é—á–∞—è AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
- ‚úÖ –í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è
- ‚úÖ Multi-ControlNet –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π GPU
- ‚ö†Ô∏è –î–ª–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–∑–∞–≥—Ä—É–∑–∫–∞ ~15GB –º–æ–¥–µ–ª–µ–π)

#### üì± Legacy Mode (–±–µ–∑ GPU):
- ‚úÖ –í—Å—è –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–æ—Ç–∞
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
- ‚úÖ –ü—Ä–æ—Å—Ç—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è-–∑–∞–≥–ª—É—à–∫–∏
- ‚ùå –ù–µ—Ç AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π GPU, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ AI Mode –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ–ø—ã—Ç–∞.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### ü§ñ –î–ª—è AI Mode (—Å GPU):

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ AI –æ–∫—Ä—É–∂–µ–Ω–∏—è
conda env create -f writing_service/environment_gpu.yml

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
conda activate amikhalev_writing_images_service

# –ü—Ä–æ–≤–µ—Ä–∫–∞ CUDA –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
python -c "
import torch
print(f'‚úì CUDA available: {torch.cuda.is_available()}')
if torch.cuda.is_available():
    print(f'‚úì GPU: {torch.cuda.get_device_name()}')
    print(f'‚úì GPU Memory: {torch.cuda.get_device_properties(0).total_memory / 1024**3:.1f}GB')
    print(f'‚úì CUDA Version: {torch.version.cuda}')
else:
    print('‚ùå CUDA not available - falling back to Legacy Mode')
"
```

#### üì± –î–ª—è Legacy Mode (–±–µ–∑ GPU):

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
conda env create -f environment.yml

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
conda activate language-learning-bot

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
python -c "
import sys
print(f'‚úì Python: {sys.version}')
print('‚úì Ready for Legacy Mode')
"
```

### üÜï –£—Å—Ç–∞–Ω–æ–≤–∫–∞ AI –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ï—Å–ª–∏ –≤—ã –≤—ã–±—Ä–∞–ª–∏ **AI Mode**, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ AI –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ AI –ø–∞–∫–µ—Ç–æ–≤:
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ AI –æ–∫—Ä—É–∂–µ–Ω–∏–µ
conda activate amikhalev_writing_images_service

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ AI –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
cd writing_service
pip install -r requirements_gpu.txt

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–µ–≤—ã—Ö AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
python -c "
import diffusers
import transformers
import accelerate
import xformers
print('‚úì Diffusers:', diffusers.__version__)
print('‚úì Transformers:', transformers.__version__)
print('‚úì Accelerate:', accelerate.__version__)
print('‚úì XFormers:', xformers.__version__)
"
```

#### –°–æ–∑–¥–∞–Ω–∏–µ cache –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –¥–ª—è AI –º–æ–¥–µ–ª–µ–π
mkdir -p writing_service/cache/{huggingface,transformers,datasets,torch,pytorch_kernel_cache}
mkdir -p writing_service/temp/generated_images

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
export HF_HOME="$(pwd)/writing_service/cache/huggingface"
export TORCH_HOME="$(pwd)/writing_service/cache/torch"
export TRANSFORMERS_CACHE="$(pwd)/writing_service/cache/transformers"

echo "‚úì AI cache directories created"
```

#### –¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
```bash
# –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥–µ–ª–∏ (–∑–∞–π–º–µ—Ç ~10-15 –º–∏–Ω—É—Ç)
python -c "
print('Downloading Stable Diffusion XL model...')
from diffusers import StableDiffusionXLPipeline
pipeline = StableDiffusionXLPipeline.from_pretrained('stabilityai/stable-diffusion-xl-base-1.0', torch_dtype=torch.float16)
print('‚úì Model downloaded successfully')
"
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MongoDB

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ start_1_db.sh (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
```bash
# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x start_1_db.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å MongoDB
./start_1_db.sh
```

–î–ª—è –¥—Ä—É–≥–∏—Ö —Å–ø–æ—Å–æ–±–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ MongoDB —Å–º. —Ä–∞–∑–¥–µ–ª [–í–∞—Ä–∏–∞–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ MongoDB](#–≤–∞—Ä–∏–∞–Ω—Ç—ã-—É—Å—Ç–∞–Ω–æ–≤–∫–∏-mongodb).

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

#### –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ .env:
```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```ini
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ MongoDB
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_DB_NAME=language_learning_bot

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram
TELEGRAM_BOT_TOKEN=your_bot_token_here

# üÜï –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Writing Service (AI)
WRITING_SERVICE_HOST=localhost
WRITING_SERVICE_PORT=8600
WRITING_SERVICE_ENABLED=true  # false –¥–ª—è Legacy Mode
```

#### üÜï –ù–∞—Å—Ç—Ä–æ–π–∫–∞ AI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ **AI Mode**, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `writing_service/conf/config/ai_generation.yaml`:

```yaml
# –ú–æ–∂–µ—Ç–µ –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥ –≤–∞—à GPU
ai_generation:
  enabled: true
  
  # GPU –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è, –Ω–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å)
  gpu:
    device: "cuda"
    memory_efficient: true  # true –¥–ª—è GPU <24GB
    enable_attention_slicing: true  # true –¥–ª—è GPU <24GB
    enable_cpu_offload: false  # true –¥–ª—è GPU <12GB
    max_batch_size: 1  # —É–≤–µ–ª–∏—á—å—Ç–µ –¥–ª—è –º–æ—â–Ω—ã—Ö GPU
    
  # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å)
  generation:
    num_inference_steps: 30  # –±–æ–ª—å—à–µ = –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–µ–µ, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ
    guidance_scale: 7.5      # –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ø—Ä–æ–º–ø—Ç—É
    width: 1024
    height: 1024
```

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ MongoDB –∑–∞–ø—É—â–µ–Ω–∞
./start_1_db.sh

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
python scripts/init_db.py

# –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
python scripts/seed_data.py
```

---

## üÜï –ü—Ä–æ–≤–µ—Ä–∫–∞ AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–ï—Å–ª–∏ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ **AI Mode**, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å AI —Å–∏—Å—Ç–µ–º—ã:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ GPU:
```bash
# NVIDIA System Management Interface
nvidia-smi

# –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ GPU, –¥—Ä–∞–π–≤–µ—Ä–∞—Ö –∏ CUDA
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ PyTorch + CUDA:
```bash
python -c "
import torch
print('PyTorch version:', torch.__version__)
print('CUDA available:', torch.cuda.is_available())
if torch.cuda.is_available():
    print('CUDA version:', torch.version.cuda)
    print('GPU device:', torch.cuda.get_device_name())
    print('GPU memory:', f'{torch.cuda.get_device_properties(0).total_memory / 1024**3:.1f}GB')
    
    # –¢–µ—Å—Ç GPU –æ–ø–µ—Ä–∞—Ü–∏–∏
    x = torch.randn(1000, 1000).cuda()
    y = torch.mm(x, x)
    print('‚úì GPU computation test passed')
else:
    print('‚ùå CUDA not available - check GPU drivers')
"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ AI –±–∏–±–ª–∏–æ—Ç–µ–∫:
```bash
python -c "
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–µ–≤—ã—Ö AI –±–∏–±–ª–∏–æ—Ç–µ–∫
try:
    import diffusers
    print('‚úì Diffusers:', diffusers.__version__)
except ImportError:
    print('‚ùå Diffusers not installed')

try:
    import transformers
    print('‚úì Transformers:', transformers.__version__)
except ImportError:
    print('‚ùå Transformers not installed')

try:
    import xformers
    print('‚úì XFormers:', xformers.__version__)
except ImportError:
    print('‚ö†Ô∏è XFormers not available (performance will be slower)')

try:
    import controlnet_aux
    print('‚úì ControlNet-Aux available')
except ImportError:
    print('‚ùå ControlNet-Aux not installed')
"
```

### –¢–µ—Å—Ç AI pipeline:
```bash
# –ó–∞–ø—É—Å–∫ Writing Service –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
./start_4_writing_service.sh

# –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)
echo "Waiting for Writing Service to start..."
sleep 30

# –ü—Ä–æ–≤–µ—Ä–∫–∞ health check
curl http://localhost:8600/health

# –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ AI —Å—Ç–∞—Ç—É—Å–∞
curl http://localhost:8600/health/detailed | jq '.ai_status'

# –ï—Å–ª–∏ –≤—Å–µ OK, —É–≤–∏–¥–∏—Ç–µ status: "healthy" –∏–ª–∏ "initializing"
```

---

## –í–∞—Ä–∏–∞–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ MongoDB

### –°–ø–æ—Å–æ–± 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–∞—Ç–∞–ª–æ–≥ (–±–µ–∑ –ø—Ä–∞–≤ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –¥–ª—è MongoDB
mkdir -p ~/mongodb/data ~/mongodb/log ~/mongodb/config ~/mongodb/bin

# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ MongoDB (–¥–ª—è Ubuntu 22.04, x86_64)
cd ~/Downloads
wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-ubuntu2204-7.0.5.tgz

# –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –∞—Ä—Ö–∏–≤–∞
tar -zxvf mongodb-linux-x86_64-ubuntu2204-7.0.5.tgz

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
cp -R mongodb-linux-x86_64-ubuntu2204-7.0.5/bin/* ~/mongodb/bin/

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ MongoDB –≤ PATH
echo 'export PATH=~/mongodb/bin:$PATH' >> ~/.bashrc
source ~/.bashrc
```

### –°–ø–æ—Å–æ–± 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ (—Å –ø—Ä–∞–≤–∞–º–∏ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

#### –î–ª—è Ubuntu/Debian:
```bash
# –ò–º–ø–æ—Ä—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ MongoDB
wget -qO - https://www.mongodb.org/static/pgp/server-7.0.asc | sudo apt-key add -

# –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu $(lsb_release -cs)/mongodb-org/7.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-7.0.list

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –ø–∞–∫–µ—Ç–æ–≤
sudo apt update

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MongoDB
sudo apt install -y mongodb-org

# –ó–∞–ø—É—Å–∫ MongoDB
sudo systemctl start mongod

# –í–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã
sudo systemctl enable mongod
```

### –°–ø–æ—Å–æ–± 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Docker

```bash
# –ó–∞–ø—É—Å–∫ MongoDB –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker run --name mongodb -d -p 27017:27017 -v ~/mongodb/data:/data/db mongo:7.0.5
```

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ MongoDB
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—â–µ–Ω–∞ –ª–∏ MongoDB
ps aux | grep mongod

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MongoDB
mongosh
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ Backend
```bash
# –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞
./start_2_backend.sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
curl http://localhost:8500/api/health
```

### 3. üÜï –ü—Ä–æ–≤–µ—Ä–∫–∞ Writing Service (AI Mode)
```bash
# –ó–∞–ø—É—Å–∫ Writing Service
./start_4_writing_service.sh

# –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
curl http://localhost:8600/health

# –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
curl http://localhost:8600/health/detailed

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API —Å—Ç–∞—Ç—É—Å–∞
curl http://localhost:8600/api/writing/status
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ Frontend
```bash
# –ó–∞–ø—É—Å–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
./start_3_frontend.sh
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—É `/start` –≤ Telegram.

### 5. üÜï –¢–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ AI pipeline
```bash
# –¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (—Ç—Ä–µ–±—É–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ Writing Service)
curl -X POST http://localhost:8600/api/writing/generate-writing-image \
  -H "Content-Type: application/json" \
  -d '{
    "word": "test",
    "translation": "—Ç–µ—Å—Ç", 
    "language": "english",
    "style": "traditional"
  }'

# –ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ, –ø–æ–ª—É—á–∏—Ç–µ JSON —Å generated_image_base64
```

---

## üÜï AI Troubleshooting

### CUDA –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω
**–ü—Ä–æ–±–ª–µ–º–∞**: `torch.cuda.is_available()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `False`

**–†–µ—à–µ–Ω–∏—è**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ NVIDIA –¥—Ä–∞–π–≤–µ—Ä—ã:
   ```bash
   nvidia-smi
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CUDA installation:
   ```bash
   nvcc --version
   ```

3. –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PyTorch —Å CUDA:
   ```bash
   conda install pytorch torchvision torchaudio pytorch-cuda=11.8 -c pytorch -c nvidia
   ```

### XFormers –ø—Ä–æ–±–ª–µ–º—ã
**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ XFormers –∏–ª–∏ low performance

**–†–µ—à–µ–Ω–∏—è**:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ XFormers –¥–ª—è –≤–∞—à–µ–π CUDA –≤–µ—Ä—Å–∏–∏:
   ```bash
   pip install xformers --index-url https://download.pytorch.org/whl/cu118
   ```

2. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è, –æ—Ç–∫–ª—é—á–∏—Ç–µ XFormers:
   ```yaml
   # –í writing_service/conf/config/ai_generation.yaml
   gpu:
     enable_xformers: false
   ```

### Out of Memory –æ—à–∏–±–∫–∏
**–ü—Ä–æ–±–ª–µ–º–∞**: `CUDA out of memory` during generation

**–†–µ—à–µ–Ω–∏—è**:
1. –£–º–µ–Ω—å—à–∏—Ç–µ batch size:
   ```yaml
   # –í writing_service/conf/config/ai_generation.yaml
   generation:
     batch_size: 1
   ```

2. –í–∫–ª—é—á–∏—Ç–µ memory optimizations:
   ```yaml
   gpu:
     memory_efficient: true
     enable_attention_slicing: true
     enable_cpu_offload: true  # –¥–ª—è GPU <16GB
   ```

3. –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
   ```yaml
   generation:
     width: 512
     height: 512
   ```

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∑–∞–Ω–∏–º–∞–µ—Ç >30 —Å–µ–∫—É–Ω–¥

**–†–µ—à–µ–Ω–∏—è**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ temperature GPU:
   ```bash
   nvidia-smi
   ```

2. –í–∫–ª—é—á–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
   ```yaml
   gpu:
     use_torch_compile: true
     enable_xformers: true
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ GPU –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
   ```bash
   watch nvidia-smi
   ```

### –ú–æ–¥–µ–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ HuggingFace –º–æ–¥–µ–ª–µ–π

**–†–µ—à–µ–Ω–∏—è**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:
   ```bash
   curl -I https://huggingface.co
   ```

2. –û—á–∏—Å—Ç–∏—Ç–µ cache:
   ```bash
   rm -rf writing_service/cache/huggingface/*
   ```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ git-lfs:
   ```bash
   git lfs install
   ```

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### MongoDB –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ MongoDB —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–∫—Ä–∏–ø—Ç–∞ `start_1_db.sh`.

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:
   ```bash
   ls -la ~/mongodb/data
   ls -la ~/mongodb/log
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
   ```bash
   chmod 755 ~/mongodb/data
   chmod 755 ~/mongodb/log
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ MongoDB:
   ```bash
   cat ~/mongodb/log/mongod.log
   ```

### –ë—ç–∫–µ–Ω–¥ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±—ç–∫–µ–Ω–¥–∞.

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MongoDB:
   ```bash
   mongosh --eval "db.stats()"
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `.env`:
   ```bash
   cat .env | grep MONGODB
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç –±—ç–∫–µ–Ω–¥–∞:
   ```bash
   lsof -i :8500
   ```

### –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞:
   ```bash
   cat frontend/conf/config/bot.yaml | grep token
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –±—ç–∫–µ–Ω–¥–∞:
   ```bash
   curl http://localhost:8500/api/health
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Writing Service (AI Mode):
   ```bash
   curl http://localhost:8600/health
   ```

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

### –î–ª—è –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤:
1. [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∑–∞–ø—É—Å–∫—É](../running/running_guide.md) - –∑–∞–ø—É—Å–∫ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ 
2. [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–æ—Ç–∞](../functionality/bot_commands.md) - –∫–æ–º–∞–Ω–¥—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞
3. [API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å](../api/api_reference.md) - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ API-–∫–ª–∏–µ–Ω—Ç—É

### üÜï –î–ª—è AI Mode:
1. [AI Image Generation](../functionality/ai_image_generation.md) - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ AI
2. [GPU Optimization](../running/performance_tuning.md) - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. [AI Monitoring](../running/monitoring_ai.md) - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
1. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](../development/testing_guide.md) - –∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã
2. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](../development/configuration.md) - –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å Hydra
3. [üÜï AI Development](../development/ai_configuration.md) - —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ñ–∏–Ω–∞–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É:

### –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
```bash
# ‚úÖ MongoDB —Ä–∞–±–æ—Ç–∞–µ—Ç
curl http://localhost:8500/api/health

# ‚úÖ Backend API –¥–æ—Å—Ç—É–ø–µ–Ω
curl http://localhost:8500/api/languages

# ‚úÖ Telegram –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç
# –û—Ç–ø—Ä–∞–≤—å—Ç–µ /start –±–æ—Ç—É –≤ Telegram
```

### üÜï AI —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (AI Mode):
```bash
# ‚úÖ Writing Service —Ä–∞–±–æ—Ç–∞–µ—Ç
curl http://localhost:8600/health

# ‚úÖ AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã
curl http://localhost:8600/health/detailed | jq '.ai_status'

# ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç
curl -X POST http://localhost:8600/api/writing/generate-writing-image \
  -H "Content-Type: application/json" \
  -d '{"word": "hello", "translation": "–ø—Ä–∏–≤–µ—Ç"}'
```

–ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ, Language Learning Bot –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! üéâ

### üéØ –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:

- **ü§ñ AI Mode**: –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å + AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **üì± Legacy Mode**: –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ AI (–ø—Ä–æ—Å—Ç—ã–µ –∑–∞–≥–ª—É—à–∫–∏)

–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π!
