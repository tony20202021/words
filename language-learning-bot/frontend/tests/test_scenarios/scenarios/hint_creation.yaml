name: Create and Edit Hint Scenario
user_id: 123456789
api_mock: study
auto_setup: true
steps:
  # –®–∞–≥ 1-3: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —à–∞–≥–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞ –∏ –Ω–∞—á–∞–ª–∞ –∏–∑—É—á–µ–Ω–∏—è
  - type: command
    name: language
    asserts:
      - type: message_contains
        text: "–î–æ—Å—Ç—É–ø–Ω—ã–µ —è–∑—ã–∫–∏ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è"
      - type: state_contains
        data: ["_state", None]

  - type: callback
    data: "lang_select_eng"
    asserts:
      - type: message_contains
        text: "–í—ã –≤—ã–±—Ä–∞–ª–∏ —è–∑—ã–∫"
      - type: message_contains
        text: "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π"
      - type: message_contains
        text: "–í–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —ç—Ç–æ–≥–æ —è–∑—ã–∫–∞"
      - type: state_contains
        data: ["_state", None]

  - type: command
    name: study
    asserts:
      - type: message_contains
        position: -2
        text: "–ù–∞—á–∏–Ω–∞–µ–º –∏–∑—É—á–µ–Ω–∏–µ —Å–ª–æ–≤"
      - type: message_contains
        position: -2
        text: "–ü–æ–ª—É—á–∞—é —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤"
      - type: state_contains
        data: ["_state", <State 'StudyStates:studying'>]
      # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –ø–æ–¥—Å–∫–∞–∑–æ–∫
      - type: keyboard_contains
        button_text: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è —Å–ª–æ–≤–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)"
      - type: keyboard_contains
        button_text: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è —Ñ–æ–Ω–µ—Ç–∏–∫–∏ (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)"
      - type: keyboard_contains
        button_text: "–§–æ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–µ –∑–≤—É—á–∞–Ω–∏–µ (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)"
      - type: keyboard_contains
        button_text: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)"

  # –®–∞–≥ 4: –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏
  - type: callback
    data: "hint_create_phoneticassociation_word123"
    asserts:
      - type: message_contains
        text: "–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ —Ç–∏–ø–∞ ¬´–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è —Ñ–æ–Ω–µ—Ç–∏–∫–∏¬ª"
      - type: state_contains
        data: ["_state", "<State 'HintStates:creating'>"]

  # –®–∞–≥ 5: –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏
  - type: message
    text: "–ú–æ—è —Ç–µ—Å—Ç–æ–≤–∞—è –∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è"
    asserts:
      - type: message_contains
        position: -2
        text: "–ü–æ–¥—Å–∫–∞–∑–∫–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞"
      - type: message_contains
        position: -2
        text: "¬´–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è —Ñ–æ–Ω–µ—Ç–∏–∫–∏¬ª"
      - type: state_contains
        data: ["_state", "<State 'StudyStates:studying'>"]
      # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –ø–æ–¥—Å–∫–∞–∑–æ–∫
      - type: keyboard_contains
        button_text: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è —Å–ª–æ–≤–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)"
      - type: keyboard_contains
        button_text: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è —Ñ–æ–Ω–µ—Ç–∏–∫–∏: üëÅÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å"
      - type: keyboard_contains
        button_text: "–§–æ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–µ –∑–≤—É—á–∞–Ω–∏–µ (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)"
      - type: keyboard_contains
        button_text: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)"
      - type: keyboard_button_count
        count: 8

  # –®–∞–≥ 6: –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–∑–¥–∞–Ω–Ω–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–∏
  - type: callback
    data: "hint_view_phoneticassociation_word123"
    asserts:
      - type: state_contains
        data: ["_state", "<State 'StudyStates:studying'>"]
      # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –ø–æ–¥—Å–∫–∞–∑–æ–∫
      - type: keyboard_contains
        button_text: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è —Å–ª–æ–≤–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)"
      - type: keyboard_contains
        button_text: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è —Ñ–æ–Ω–µ—Ç–∏–∫–∏: üëÅÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å"
      - type: keyboard_contains
        button_text: "–§–æ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–µ –∑–≤—É—á–∞–Ω–∏–µ (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)"
      - type: keyboard_contains
        button_text: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)"
      - type: keyboard_button_count
        count: 8

  # –®–∞–≥ 8: –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Å–æ–∑–¥–∞–Ω–Ω—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É
  - type: callback
    data: "hint_edit_phoneticassociation_word123"
    asserts:
      - type: message_contains
        position: -1
        text: "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏"
      - type: message_contains
        position: -1
        text: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è —Ñ–æ–Ω–µ—Ç–∏–∫–∏"
      - type: state_contains
        data: ["_state", "<State 'HintStates:editing'>"]

  # –®–∞–≥ 9: –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç
  - type: message
    text: "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è"
    asserts:
      - type: message_contains
        position: -2
        text: "–ü–æ–¥—Å–∫–∞–∑–∫–∞ ¬´–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è —Ñ–æ–Ω–µ—Ç–∏–∫–∏¬ª —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞"
      - type: state_contains
        data: ["_state", "<State 'StudyStates:studying'>"]
      # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –ø–æ–¥—Å–∫–∞–∑–æ–∫
      - type: keyboard_contains
        button_text: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è —Å–ª–æ–≤–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)"
      - type: keyboard_contains
        button_text: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è —Ñ–æ–Ω–µ—Ç–∏–∫–∏: üëÅÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å"
      - type: keyboard_contains
        button_text: "–§–æ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–µ –∑–≤—É—á–∞–Ω–∏–µ (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)"
      - type: keyboard_contains
        button_text: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)"
      - type: keyboard_button_count
        count: 8

  # –®–∞–≥ 10: –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É
  - type: callback
    data: "hint_view_phoneticassociation_word123"
    asserts:
      - type: state_contains
        data: ["_state", "<State 'StudyStates:studying'>"]
      # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –ø–æ–¥—Å–∫–∞–∑–æ–∫
      - type: keyboard_contains
        button_text: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è —Å–ª–æ–≤–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)"
      - type: keyboard_contains
        button_text: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è —Ñ–æ–Ω–µ—Ç–∏–∫–∏: üëÅÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å"
      - type: keyboard_contains
        button_text: "–§–æ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–µ –∑–≤—É—á–∞–Ω–∏–µ (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)"
      - type: keyboard_contains
        button_text: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)"
      - type: keyboard_button_count
        count: 8
